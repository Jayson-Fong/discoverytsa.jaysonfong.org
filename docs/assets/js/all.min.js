/* global alertify */

document.getElementById('currentYear').innerHTML = new Date().getFullYear();

var header = document.getElementById('stickyHeader');
var mainContent = document.getElementById('mainContent');
var sticky = header.offsetTop;

window.onscroll = function() {
    if (window.pageYOffset > sticky) {
        header.classList.add('sticky');
        mainContent.classList.add('stickyPush');
    } else {
        header.classList.remove('sticky');
        mainContent.classList.remove('stickyPush');
    }
};

document.getElementById('zoom').onclick = function() {
    alertify.defaults['glossary']['title'] = 'Zoom Details';
    alertify.defaults['glossary']['ok'] = 'Thanks!';
    alertify.alert('Meeting ID: 950 5722 0250 Passcode: TitansTSA', function() {
        alertify.success('See you soon!');
    });
};

$(function(){
    var current = document.getElementById('page').getAttribute('value');
    $('.nav-link[data-active=\'false\']:not([data-ignore=\'true\']').each(function(){
        var $this = $(this);
        if($this.attr('data-name') === current){
            $this.attr('data-active', 'true');
        }
    });
});

/* Register PWA Worker */
if ("serviceWorker" in navigator) {
    window.addEventListener("load", function() {
        navigator.serviceWorker.register("ServiceWorker.js");
    });
}
